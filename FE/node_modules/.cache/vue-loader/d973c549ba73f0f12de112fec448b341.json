{"remainingRequest":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\src\\pages\\role\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\src\\pages\\role\\index.vue","mtime":1704440180000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704332086000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\babel-loader\\lib\\index.js","mtime":1704440412000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704332086000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\vue-loader\\lib\\index.js","mtime":1704440418000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgTGF5b3V0IGZyb20gIi4uLy4uL2xheW91dHMvbWFpbiI7DQppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOw0KaW1wb3J0IHtyZXF1aXJlZH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsNCmltcG9ydCBhcHBDb25maWcgZnJvbSAiQC9hcHAuY29uZmlnIjsNCmltcG9ydCB7bm90aWZ5TW9kZWx9IGZyb20gIkAvbW9kZWxzL25vdGlmeU1vZGVsIjsNCmltcG9ydCB7cGFnaW5nTW9kZWx9IGZyb20gIkAvbW9kZWxzL3BhZ2luZ01vZGVsIjsNCmltcG9ydCB7cm9sZU1vZGVsfSBmcm9tICJAL21vZGVscy9yb2xlTW9kZWwiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIHBhZ2U6IHsNCiAgICB0aXRsZTogIlF14bqjbiBsw70gdmFpIHRyw7IiLA0KICAgIG1ldGE6IFt7bmFtZTogImRlc2NyaXB0aW9uIiwgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9ufV0sDQogIH0sDQogIGNvbXBvbmVudHM6IHtMYXlvdXQsIFBhZ2VIZWFkZXJ9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0aXRsZTogIlF14bqjbiBsw70gdmFpIHRyw7IiLA0KICAgICAgaXRlbXM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHRleHQ6ICJWYWkgdHLDsiIsDQogICAgICAgICAgaHJlZjogIi92YWktdHJvIiwNCiAgICAgICAgICAvLyBhY3RpdmU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0ZXh0OiAiRGFuaCBzw6FjaCIsDQogICAgICAgICAgYWN0aXZlOiB0cnVlLA0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgZGF0YTogW10sDQogICAgICBzaG93TW9kYWw6IGZhbHNlLA0KICAgICAgc2hvd0RldGFpbDogZmFsc2UsDQogICAgICBzaG93RGVsZXRlTW9kYWw6IGZhbHNlLA0KICAgICAgc3VibWl0dGVkOiBmYWxzZSwNCiAgICAgIG1vZGVsOiByb2xlTW9kZWwuYmFzZUpzb24oKSwNCiAgICAgIGxpc3RSb2xlOiBbXSwNCiAgICAgIHBhZ2luYXRpb246IHBhZ2luZ01vZGVsLmJhc2VKc29uKCksDQogICAgICB0b3RhbFJvd3M6IDEsDQogICAgICB0b2RvVG90YWxSb3dzOiAxLA0KICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICBudW1iZXJPZkVsZW1lbnQ6IDEsDQogICAgICBwZXJQYWdlOiAxMCwNCiAgICAgIHBhZ2VPcHRpb25zOiBbNSwgMTAsIDI1LCA1MCwgMTAwXSwNCiAgICAgIGZpbHRlcjogbnVsbCwNCiAgICAgIHRvZG9GaWx0ZXI6IG51bGwsDQogICAgICBmaWx0ZXJPbjogW10sDQogICAgICB0b2RvZmlsdGVyT246IFtdLA0KICAgICAgc29ydEJ5OiAiYWdlIiwNCiAgICAgIHNvcnREZXNjOiBmYWxzZSwNCiAgICAgIGZpZWxkczogWw0KICAgICAgICB7DQogICAgICAgICAga2V5OiAnU1RUJywgbGFiZWw6ICdTVFQnLA0KICAgICAgICAgIGNsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgIHRoU3R5bGU6IHt3aWR0aDogJzgwcHgnLCBtaW5XaWR0aDogJzYwcHgnfSwNCiAgICAgICAgICB0ZENsYXNzOiAnYWxpZ24tbWlkZGxlJywNCiAgICAgICAgICB0aENsYXNzOiAnaGlkZGVuLXNvcnRhYmxlJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiY29kZSIsDQogICAgICAgICAgbGFiZWw6ICJNw6MgcXV54buBbiIsDQogICAgICAgICAgY2xhc3M6ICJ0ZXh0LWNlbnRlciIsDQogICAgICAgICAgdGhTdHlsZToge3dpZHRoOiAnMTUwcHgnLCBtaW5XaWR0aDogJzE1MHB4J30sDQogICAgICAgICAgdGhDbGFzczogJ2hpZGRlbi1zb3J0YWJsZScNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogInRlbiIsDQogICAgICAgICAgbGFiZWw6ICJUw6puIHF1eeG7gW4iLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIHRoU3R5bGU6ICJ0ZXh0LWFsaWduOmNlbnRlciIsDQogICAgICAgICAgdGhDbGFzczogJ2hpZGRlbi1zb3J0YWJsZScNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogInBlcm1pc3Npb25zIiwNCiAgICAgICAgICBsYWJlbDogIlPhu5EgbMaw4bujbmciLA0KICAgICAgICAgIGNsYXNzOiAidGV4dC1jZW50ZXIiLA0KICAgICAgICAgIHRoU3R5bGU6IHt3aWR0aDogJzE1MHB4JywgbWluV2lkdGg6ICcxNTBweCd9LA0KICAgICAgICAgIHRoQ2xhc3M6ICdoaWRkZW4tc29ydGFibGUnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICdwcm9jZXNzJywNCiAgICAgICAgICBsYWJlbDogJ1jhu60gbMO9JywNCiAgICAgICAgICBjbGFzczogInRleHQtY2VudGVyIiwNCiAgICAgICAgICB0aFN0eWxlOiB7d2lkdGg6ICcxNTBweCcsIG1pbldpZHRoOiAnMTUwcHgnfSwNCiAgICAgICAgICB0aENsYXNzOiAnaGlkZGVuLXNvcnRhYmxlJw0KICAgICAgICB9DQogICAgICBdLA0KICAgIH07DQogIH0sDQogIHZhbGlkYXRpb25zOiB7DQogICAgbW9kZWw6IHsNCiAgICAgIHRlbjoge3JlcXVpcmVkfSwNCiAgICAgIGNvZGU6IHtyZXF1aXJlZH0NCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICB9LA0KICB3YXRjaDogew0KICAgIG1vZGVsOiB7DQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaGFuZGxlcih2YWwpIHsNCiAgICAgICAgLy8gYWRkQ29RdWFuVG9Nb2RlbCgpDQogICAgICAgIC8vIHRoaXMuc2F2ZVZhbHVlVG9Mb2NhbFN0b3JhZ2UoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2hvd01vZGFsKHN0YXR1cykgew0KICAgICAgaWYgKHN0YXR1cyA9PSBmYWxzZSkgdGhpcy5tb2RlbCA9IHJvbGVNb2RlbC5iYXNlSnNvbigpOw0KICAgIH0sDQogICAgc2hvd0RlbGV0ZU1vZGFsKHZhbCkgew0KICAgICAgaWYgKHZhbCA9PSBmYWxzZSkgew0KICAgICAgICB0aGlzLm1vZGVsLmlkID0gbnVsbDsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgaGFuZGxlVXBkYXRlKGlkKSB7DQogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgicm9sZVN0b3JlL2dldEJ5SWQiLCBpZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgew0KICAgICAgICAgIHRoaXMubW9kZWwgPSByb2xlTW9kZWwuZnJvbUpzb24ocmVzLmRhdGEpOw0KICAgICAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic25hY2tCYXJTdG9yZS9hZGROb3RpZnkiLCBub3RpZnlNb2RlbC5hZGRNZXNzYWdlKHJlcykpOw0KICAgICAgICAgIHRoaXMuJHJlZnMudGJsTGlzdC5yZWZyZXNoKCkNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyBoYW5kbGVEZXRhaWwoaWQpIHsNCiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJyb2xlU3RvcmUvZ2V0QnlJZCIsIGlkKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7DQogICAgICAgICAgdGhpcy5tb2RlbCA9IHJvbGVNb2RlbC5mcm9tSnNvbihyZXMuZGF0YSk7DQogICAgICAgICAgdGhpcy5zaG93RGV0YWlsID0gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic25hY2tCYXJTdG9yZS9hZGROb3RpZnkiLCBub3RpZnlNb2RlbC5hZGRNZXNzYWdlKHJlcykpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGFzeW5jIGhhbmRsZURlbGV0ZSgpIHsNCiAgICAgIGlmICh0aGlzLm1vZGVsLmlkICE9IDAgJiYgdGhpcy5tb2RlbC5pZCAhPSBudWxsICYmIHRoaXMubW9kZWwuaWQpIHsNCiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInJvbGVTdG9yZS9kZWxldGUiLCB0aGlzLm1vZGVsLmlkKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0RlbGV0ZU1vZGFsID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLiRyZWZzLnRibExpc3QucmVmcmVzaCgpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzbmFja0JhclN0b3JlL2FkZE5vdGlmeSIsIG5vdGlmeU1vZGVsLmFkZE1lc3NhZ2UocmVzKSk7DQogICAgICAgICAgLy8gfSk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlU2hvd0RlbGV0ZU1vZGFsKGlkKSB7DQogICAgICB0aGlzLm1vZGVsLmlkID0gaWQ7DQogICAgICB0aGlzLnNob3dEZWxldGVNb2RhbCA9IHRydWU7DQogICAgfSwNCiAgICBhc3luYyBoYW5kbGVTdWJtaXQoZSkgew0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOw0KICAgICAgdGhpcy4kdi4kdG91Y2goKTsNCiAgICAgIGlmICh0aGlzLiR2LiRpbnZhbGlkKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBsb2FkZXIgPSB0aGlzLiRsb2FkaW5nLnNob3coew0KICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy4kcmVmcy5mb3JtQ29udGFpbmVyLA0KICAgICAgICB9KTsNCiAgICAgICAgaWYgKA0KICAgICAgICAgICAgdGhpcy5tb2RlbC5pZCAhPSAwICYmDQogICAgICAgICAgICB0aGlzLm1vZGVsLmlkICE9IG51bGwgJiYNCiAgICAgICAgICAgIHRoaXMubW9kZWwuaWQNCiAgICAgICAgKSB7DQogICAgICAgICAgLy8gVXBkYXRlIG1vZGVsDQogICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInJvbGVTdG9yZS91cGRhdGUiLCB0aGlzLm1vZGVsKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLiRyZWZzLnRibExpc3QucmVmcmVzaCgpDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic25hY2tCYXJTdG9yZS9hZGROb3RpZnkiLCBub3RpZnlNb2RlbC5hZGRNZXNzYWdlKHJlcykpDQogICAgICAgICAgfSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8gQ3JlYXRlIG1vZGVsDQogICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInJvbGVTdG9yZS9jcmVhdGUiLCByb2xlTW9kZWwudG9Kc29uKHRoaXMubW9kZWwpKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLiRyZWZzLnRibExpc3QucmVmcmVzaCgpDQogICAgICAgICAgICAgIHRoaXMubW9kZWwgPSB7fTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzbmFja0JhclN0b3JlL2FkZE5vdGlmeSIsIG5vdGlmeU1vZGVsLmFkZE1lc3NhZ2UocmVzKSkNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICBsb2FkZXIuaGlkZSgpOw0KICAgICAgfQ0KICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsNCiAgICB9LA0KICAgIG15UHJvdmlkZXIoY3R4KSB7DQogICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgIHN0YXJ0OiBjdHguY3VycmVudFBhZ2UsDQogICAgICAgIGxpbWl0OiBjdHgucGVyUGFnZSwNCiAgICAgICAgY29udGVudDogdGhpcy5maWx0ZXIsDQogICAgICAgIHNvcnRCeTogY3R4LnNvcnRCeSwNCiAgICAgICAgc29ydERlc2M6IGN0eC5zb3J0RGVzYywNCiAgICAgIH0NCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIHRyeSB7DQogICAgICAgIGxldCBwcm9taXNlID0gdGhpcy4kc3RvcmUuZGlzcGF0Y2goInJvbGVTdG9yZS9nZXRQYWdpbmdQYXJhbXMiLCBwYXJhbXMpDQogICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgbGV0IGl0ZW1zID0gcmVzcC5kYXRhLmRhdGENCiAgICAgICAgICB0aGlzLnRvdGFsUm93cyA9IHJlc3AuZGF0YS50b3RhbFJvd3MNCiAgICAgICAgICB0aGlzLm51bWJlck9mRWxlbWVudCA9IHJlc3AuZGF0YS5kYXRhLmxlbmd0aA0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgcmV0dXJuIGl0ZW1zIHx8IFtdDQogICAgICAgIH0pDQogICAgICB9IGZpbmFsbHkgew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8gdG9kb0ZpbHRlcmVkKGZpbHRlcmVkSXRlbXMpIHsNCiAgICAvLyAgIC8vIFRyaWdnZXIgcGFnaW5hdGlvbiB0byB1cGRhdGUgdGhlIG51bWJlciBvZiBidXR0b25zL3BhZ2VzIGR1ZSB0byBmaWx0ZXJpbmcNCiAgICAvLyAgIHRoaXMudG9kb1RvdGFsUm93cyA9IGZpbHRlcmVkSXRlbXMubGVuZ3RoOw0KICAgIC8vICAgdGhpcy50b2RvY3VycmVudFBhZ2UgPSAxOw0KICAgIC8vIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/role","sourcesContent":["<script>\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport {required} from \"vuelidate/lib/validators\";\r\nimport appConfig from \"@/app.config\";\r\nimport {notifyModel} from \"@/models/notifyModel\";\r\nimport {pagingModel} from \"@/models/pagingModel\";\r\nimport {roleModel} from \"@/models/roleModel\";\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Quản lý vai trò\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {Layout, PageHeader},\r\n  data() {\r\n    return {\r\n      title: \"Quản lý vai trò\",\r\n      items: [\r\n        {\r\n          text: \"Vai trò\",\r\n          href: \"/vai-tro\",\r\n          // active: true,\r\n        },\r\n        {\r\n          text: \"Danh sách\",\r\n          active: true,\r\n        }\r\n      ],\r\n      data: [],\r\n      showModal: false,\r\n      showDetail: false,\r\n      showDeleteModal: false,\r\n      submitted: false,\r\n      model: roleModel.baseJson(),\r\n      listRole: [],\r\n      pagination: pagingModel.baseJson(),\r\n      totalRows: 1,\r\n      todoTotalRows: 1,\r\n      currentPage: 1,\r\n      numberOfElement: 1,\r\n      perPage: 10,\r\n      pageOptions: [5, 10, 25, 50, 100],\r\n      filter: null,\r\n      todoFilter: null,\r\n      filterOn: [],\r\n      todofilterOn: [],\r\n      sortBy: \"age\",\r\n      sortDesc: false,\r\n      fields: [\r\n        {\r\n          key: 'STT', label: 'STT',\r\n          class: \"text-center\",\r\n          thStyle: {width: '80px', minWidth: '60px'},\r\n          tdClass: 'align-middle',\r\n          thClass: 'hidden-sortable'\r\n        },\r\n        {\r\n          key: \"code\",\r\n          label: \"Mã quyền\",\r\n          class: \"text-center\",\r\n          thStyle: {width: '150px', minWidth: '150px'},\r\n          thClass: 'hidden-sortable'\r\n        },\r\n        {\r\n          key: \"ten\",\r\n          label: \"Tên quyền\",\r\n          sortable: true,\r\n          thStyle: \"text-align:center\",\r\n          thClass: 'hidden-sortable'\r\n        },\r\n        {\r\n          key: \"permissions\",\r\n          label: \"Số lượng\",\r\n          class: \"text-center\",\r\n          thStyle: {width: '150px', minWidth: '150px'},\r\n          thClass: 'hidden-sortable'\r\n        },\r\n        {\r\n          key: 'process',\r\n          label: 'Xử lý',\r\n          class: \"text-center\",\r\n          thStyle: {width: '150px', minWidth: '150px'},\r\n          thClass: 'hidden-sortable'\r\n        }\r\n      ],\r\n    };\r\n  },\r\n  validations: {\r\n    model: {\r\n      ten: {required},\r\n      code: {required}\r\n    },\r\n  },\r\n  created() {\r\n  },\r\n  watch: {\r\n    model: {\r\n      deep: true,\r\n      handler(val) {\r\n        // addCoQuanToModel()\r\n        // this.saveValueToLocalStorage()\r\n      }\r\n    },\r\n    showModal(status) {\r\n      if (status == false) this.model = roleModel.baseJson();\r\n    },\r\n    showDeleteModal(val) {\r\n      if (val == false) {\r\n        this.model.id = null;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async handleUpdate(id) {\r\n      await this.$store.dispatch(\"roleStore/getById\", id).then((res) => {\r\n        if (res.code === 0) {\r\n          this.model = roleModel.fromJson(res.data);\r\n          this.showModal = true;\r\n        } else {\r\n          this.$store.dispatch(\"snackBarStore/addNotify\", notifyModel.addMessage(res));\r\n          this.$refs.tblList.refresh()\r\n        }\r\n      });\r\n    },\r\n    async handleDetail(id) {\r\n      await this.$store.dispatch(\"roleStore/getById\", id).then((res) => {\r\n        if (res.code === 0) {\r\n          this.model = roleModel.fromJson(res.data);\r\n          this.showDetail = true;\r\n        } else {\r\n          this.$store.dispatch(\"snackBarStore/addNotify\", notifyModel.addMessage(res));\r\n        }\r\n      });\r\n    },\r\n    async handleDelete() {\r\n      if (this.model.id != 0 && this.model.id != null && this.model.id) {\r\n        await this.$store.dispatch(\"roleStore/delete\", this.model.id).then((res) => {\r\n          if (res.code === 0) {\r\n            this.showDeleteModal = false;\r\n            this.$refs.tblList.refresh()\r\n          }\r\n          this.$store.dispatch(\"snackBarStore/addNotify\", notifyModel.addMessage(res));\r\n          // });\r\n        });\r\n      }\r\n    },\r\n    handleShowDeleteModal(id) {\r\n      this.model.id = id;\r\n      this.showDeleteModal = true;\r\n    },\r\n    async handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.submitted = true;\r\n      this.$v.$touch();\r\n      if (this.$v.$invalid) {\r\n        return;\r\n      } else {\r\n        let loader = this.$loading.show({\r\n          container: this.$refs.formContainer,\r\n        });\r\n        if (\r\n            this.model.id != 0 &&\r\n            this.model.id != null &&\r\n            this.model.id\r\n        ) {\r\n          // Update model\r\n          await this.$store.dispatch(\"roleStore/update\", this.model).then((res) => {\r\n            if (res.code === 0) {\r\n              this.showModal = false;\r\n              this.$refs.tblList.refresh()\r\n            }\r\n            this.$store.dispatch(\"snackBarStore/addNotify\", notifyModel.addMessage(res))\r\n          });\r\n        } else {\r\n          // Create model\r\n          await this.$store.dispatch(\"roleStore/create\", roleModel.toJson(this.model)).then((res) => {\r\n            if (res.code === 0) {\r\n              this.showModal = false;\r\n              this.$refs.tblList.refresh()\r\n              this.model = {};\r\n            }\r\n            this.$store.dispatch(\"snackBarStore/addNotify\", notifyModel.addMessage(res))\r\n          });\r\n        }\r\n        loader.hide();\r\n      }\r\n      this.submitted = false;\r\n    },\r\n    myProvider(ctx) {\r\n      const params = {\r\n        start: ctx.currentPage,\r\n        limit: ctx.perPage,\r\n        content: this.filter,\r\n        sortBy: ctx.sortBy,\r\n        sortDesc: ctx.sortDesc,\r\n      }\r\n      this.loading = true\r\n      try {\r\n        let promise = this.$store.dispatch(\"roleStore/getPagingParams\", params)\r\n        return promise.then(resp => {\r\n          let items = resp.data.data\r\n          this.totalRows = resp.data.totalRows\r\n          this.numberOfElement = resp.data.data.length\r\n          this.loading = false\r\n          return items || []\r\n        })\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    // todoFiltered(filteredItems) {\r\n    //   // Trigger pagination to update the number of buttons/pages due to filtering\r\n    //   this.todoTotalRows = filteredItems.length;\r\n    //   this.todocurrentPage = 1;\r\n    // }\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-sm-4\">\r\n                <div class=\"search-box me-2 mb-2 d-inline-block\">\r\n                  <div class=\"position-relative\">\r\n                    <input\r\n                        v-model=\"filter\"\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Tìm kiếm ...\"\r\n                    />\r\n                    <i class=\"bx bx-search-alt search-icon\"></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-8\">\r\n                <div class=\"text-sm-end\">\r\n                  <b-button type=\"button\" class=\"btn-label cs-btn-primary mb-2 me-2\" @click=\"showModal = true\" size=\"sm\"\r\n                            v-if=\"$can('create-roles')\"\r\n                  >\r\n                    <i class=\"mdi mdi-plus me-1 label-icon\"></i> Thêm\r\n                  </b-button>\r\n                  <b-modal\r\n                      v-model=\"showModal\"\r\n                      title=\"Thông tin quyền\"\r\n                      title-class=\"text-black font-18\"\r\n                      body-class=\"p-3\"\r\n                      hide-footer\r\n                      centered\r\n                      no-close-on-backdrop\r\n                      size=\"lg\"\r\n                  >\r\n                    <form @submit.prevent=\"handleSubmit\"\r\n                          ref=\"formContainer\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Mã quyền</label>\r\n                            <span style=\"color: red\">&nbsp;*</span>\r\n                            <input type=\"hidden\" v-model=\"model.id\"/>\r\n                            <input\r\n                                id=\"ten\"\r\n                                v-model.trim=\"model.code\"\r\n                                type=\"number\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"Nhập mã quyền\"\r\n                                :class=\"{\r\n                                'is-invalid':\r\n                                  submitted && $v.model.code.$error,\r\n                              }\"\r\n                            />\r\n                            <div\r\n                                v-if=\"submitted && !$v.model.code.required\"\r\n                                class=\"invalid-feedback\"\r\n                            >\r\n                              Mã quyền không được để trống.\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Tên quyền</label>\r\n                            <span style=\"color: red\">&nbsp;*</span>\r\n                            <input type=\"hidden\" v-model=\"model.id\"/>\r\n                            <input\r\n                                v-model=\"model.ten\"\r\n                                type=\"text\"\r\n                                min=\"0\"\r\n                                oninput=\"validity.valid||(value='');\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"Nhập tên quyền\"\r\n                                :class=\"{\r\n                                'is-invalid':\r\n                                  submitted && $v.model.ten.$error,\r\n                              }\"\r\n                            />\r\n                            <div\r\n                                v-if=\"submitted && !$v.model.ten.required\"\r\n                                class=\"invalid-feedback\"\r\n                            >\r\n                              Tên quyền không được để trống.\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Thứ tự</label>\r\n                            <input type=\"hidden\" v-model=\"model.thuTu\"/>\r\n                            <input\r\n                                v-model=\"model.thuTu\"\r\n                                type=\"text\"\r\n                                min=\"0\"\r\n                                oninput=\"validity.valid||(value='');\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"Nhập thứ tự\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"text-end pt-2 mt-3\">\r\n                        <b-button variant=\"light\" @click=\"showModal = false\">\r\n                          Đóng\r\n                        </b-button>\r\n                        <b-button type=\"submit\" class=\"ms-1 cs-btn-primary\">\r\n                          Lưu\r\n                        </b-button>\r\n                      </div>\r\n                    </form>\r\n                  </b-modal>\r\n                  <b-modal\r\n                      v-model=\"showDetail\"\r\n                      title=\"Thông tin chi tiết vai trò\"\r\n                      title-class=\"text-black font-18\"\r\n                      body-class=\"p-3\"\r\n                      hide-footer\r\n                      centered\r\n                      no-close-on-backdrop\r\n                      size=\"lg\"\r\n                  >\r\n                    <form @submit.prevent=\"handleSubmit\"\r\n                          ref=\"formContainer\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Mã quyền : </label>\r\n                            <input\r\n                                v-model=\"model.code\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Tên quyền : </label>\r\n                            <input\r\n                                v-model=\"model.ten\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Thứ tự : </label>\r\n                            <input\r\n                                v-model=\"model.thuTu\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Người tạo : </label>\r\n                            <input\r\n                                v-model=\"model.createdBy\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Ngày tạo: </label>\r\n                            <input\r\n                                v-model=\"model.createdAt\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Người cập nhật : </label>\r\n                            <input\r\n                                v-model=\"model.modifiedBy\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                          <div class=\"mb-3\">\r\n                            <label class=\"text-left\">Ngày cập nhật : </label>\r\n                            <input\r\n                                v-model=\"model.modifiedAt\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"text-end pt-2 mt-3\">\r\n                        <b-button variant=\"light\" @click=\"showDetail = false\">\r\n                          Đóng\r\n                        </b-button>\r\n                      </div>\r\n                    </form>\r\n                  </b-modal>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\" style=\"margin-top: -20px\">\r\n              <div class=\"col-12\">\r\n                <div class=\"row mt-4\">\r\n                  <div class=\"col-sm-12 col-md-6\">\r\n                    <div\r\n                        class=\"col-sm-12 d-flex justify-content-left align-items-center\"\r\n                    >\r\n                      <div\r\n                          id=\"tickets-table_length\"\r\n                          class=\"dataTables_length m-1\"\r\n                          style=\"\r\n                        display: flex;\r\n                        justify-content: left;\r\n                        align-items: center;\r\n                      \"\r\n                      >\r\n                        <div class=\"me-1\" >Hiển thị </div>\r\n                        <b-form-select\r\n                            class=\"form-select form-select-sm\"\r\n                            v-model=\"perPage\"\r\n                            size=\"sm\"\r\n                            :options=\"pageOptions\"\r\n                            style=\"width: 70px\"\r\n                        ></b-form-select\r\n                        >&nbsp;\r\n                        <div style=\"width: 100px\"> dòng</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"table-responsive-sm\">\r\n                  <b-table\r\n                      class=\"datatables\"\r\n                      :items=\"myProvider\"\r\n                      :fields=\"fields\"\r\n                      striped\r\n                      bordered\r\n                      responsive=\"sm\"\r\n                      :per-page=\"perPage\"\r\n                      :current-page=\"currentPage\"\r\n                      :sort-by.sync=\"sortBy\"\r\n                      :sort-desc.sync=\"sortDesc\"\r\n                      :filter=\"filter\"\r\n                      :filter-included-fields=\"filterOn\"\r\n                      ref=\"tblList\"\r\n                      primary-key=\"id\"\r\n                  >\r\n                    <template v-slot:cell(STT)=\"data\">\r\n                      {{ data.index + ((currentPage - 1) * perPage) + 1 }}\r\n                    </template>\r\n                    <template v-slot:cell(permissions)=\"data\">\r\n                      <router-link :to='`/vai-tro/thiet-lap-quyen/${data.item.id}`'>\r\n                        <b-button\r\n                            v-if=\"data.item.permissions.length > 0 \" :class=\"countClassName\"\r\n                            variant=\"outline-danger btn-sm\"\r\n                            class=\"cs-btn-primary\"\r\n                            size=\"sm\"\r\n                        >{{ data.item.permissions.length }}\r\n                        </b-button>\r\n                        <b-button v-else :class=\"countClassName\" variant=\"outline-danger btn-sm\"\r\n                                  class=\"cs-btn-primary\"\r\n                                  size=\"sm\"\r\n                        >\r\n                          {{ 0 }}\r\n                        </b-button>\r\n                      </router-link>\r\n                    </template>\r\n                    <template v-slot:cell(process)=\"data\">\r\n                      <button\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          class=\"btn btn-outline btn-sm\"\r\n                          data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Chi tiết\"\r\n                          v-on:click=\"handleDetail(data.item.id)\">\r\n                        <i class=\"fas fa-eye text-primary me-1\"></i>\r\n                      </button>\r\n                      <button\r\n                          v-if=\"$can('edit-roles')\"\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          class=\"btn btn-outline btn-sm\"\r\n                          data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Cập nhật\"\r\n                          v-on:click=\"handleUpdate(data.item.id)\">\r\n                        <i class=\"fas fa-pencil-alt text-success me-1\"></i>\r\n                      </button>\r\n                      <button\r\n                          v-if=\"$can('delete-roles')\"\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          class=\"btn btn-outline btn-sm\"\r\n                          data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Xóa\"\r\n                          v-on:click=\"handleShowDeleteModal(data.item.id)\">\r\n                        <i class=\"fas fa-trash-alt text-danger me-1\"></i>\r\n                      </button>\r\n                    </template>\r\n                    <template v-slot:cell(ten)=\"data\">&nbsp;&nbsp;\r\n                      {{ data.item.ten }}\r\n                    </template>\r\n                  </b-table>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <b-col>\r\n                    <div>Hiển thị {{ numberOfElement }} trên tổng số {{ totalRows }} dòng</div>\r\n                  </b-col>\r\n                  <div class=\"col\">\r\n                    <div\r\n                        class=\"dataTables_paginate paging_simple_numbers float-end\">\r\n                      <ul class=\"pagination pagination-rounded mb-0\">\r\n                        <!-- pagination -->\r\n                        <b-pagination\r\n                            v-model=\"currentPage\"\r\n                            :total-rows=\"totalRows\"\r\n                            :per-page=\"perPage\"\r\n                        ></b-pagination>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <b-modal\r\n            v-model=\"showDeleteModal\"\r\n            centered\r\n            title=\"Xóa dữ liệu\"\r\n            title-class=\"font-18\"\r\n            no-close-on-backdrop\r\n        >\r\n          <p>\r\n            Dữ liệu xóa sẽ không được phục hồi!\r\n          </p>\r\n          <template #modal-footer>\r\n            <button v-b-modal.modal-close_visit\r\n                    class=\"btn btn-outline-info m-1\"\r\n                    v-on:click=\"showDeleteModal = false\">\r\n              Đóng\r\n            </button>\r\n            <button v-b-modal.modal-close_visit\r\n                    class=\"btn btn-danger btn m-1\"\r\n                    v-on:click=\"handleDelete\">\r\n              Xóa\r\n            </button>\r\n          </template>\r\n        </b-modal>\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n"]}]}