{"remainingRequest":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\src\\pages\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\src\\pages\\login\\login.vue","mtime":1708305245712},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704332086000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\babel-loader\\lib\\index.js","mtime":1704440412000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704332086000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\vue-loader\\lib\\index.js","mtime":1704440418000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXBwQ29uZmlnIGZyb20gIkAvYXBwLmNvbmZpZyI7DQppbXBvcnQge3JlcXVpcmVkLCBlbWFpbH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsNCmltcG9ydCBWdWUgZnJvbSAidnVlIjsNCg0KLyoqDQogKiBMb2dpbiBjb21wb25lbnQNCiAqLw0KZXhwb3J0IGRlZmF1bHQgew0KICBwYWdlOiB7DQogICAgdGl0bGU6ICLEkMSDbmcgbmjhuq1wIiwNCiAgICBtZXRhOiBbDQogICAgICB7DQogICAgICAgIG5hbWU6ICJkZXNjcmlwdGlvbiIsDQogICAgICAgIGNvbnRlbnQ6IGFwcENvbmZpZy5kZXNjcmlwdGlvbiwNCiAgICAgIH0sDQogICAgXSwNCiAgfSwNCiAgY29tcG9uZW50czogew0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlbWFpbDogImFkbWluQHRoZW1lc2JyYW5kLmNvbSIsDQogICAgICBwYXNzd29yZDogIjEyMzQ1NiIsDQogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLA0KICAgICAgYXV0aEVycm9yOiBudWxsLA0KICAgICAgdHJ5aW5nVG9Mb2dJbjogZmFsc2UsDQogICAgICBpc0F1dGhFcnJvcjogZmFsc2UsDQogICAgICBjYXBjaGE6IG51bGwsDQogICAgICBtb2RlbEF1dGg6IHsNCiAgICAgICAgaXNBdXRoRXJyb3I6IGZhbHNlLA0KICAgICAgICBtZXNzYWdlOiBudWxsDQogICAgICB9LA0KICAgICAgbW9kZWw6IHsNCiAgICAgICAgdXNlck5hbWU6ICIiLA0KICAgICAgICBwYXNzd29yZDogIiINCiAgICAgIH0sDQogICAgICBjc3NQcm9wczogew0KICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtyZXF1aXJlKCcuL2JnaW1nLmpwZycpfSlgDQogICAgICB9LA0KICAgICAgcGFzc3dvcmRGaWVsZFR5cGU6ICJwYXNzd29yZCIsDQogICAgfTsNCiAgfSwNCiAgdmFsaWRhdGlvbnM6IHsNCiAgICBtb2RlbDogew0KICAgICAgdXNlck5hbWU6IHsNCiAgICAgICAgcmVxdWlyZWQsDQogICAgICB9LA0KICAgICAgcGFzc3dvcmQ6IHsNCiAgICAgICAgcmVxdWlyZWQNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7fSwNCiAgbWV0aG9kczogew0KICAgIHN3aXRjaFZpc2liaWxpdHkoKSB7DQogICAgICB0aGlzLnBhc3N3b3JkRmllbGRUeXBlID0gdGhpcy5wYXNzd29yZEZpZWxkVHlwZSA9PT0gInBhc3N3b3JkIiA/ICJ0ZXh0IiA6ICJwYXNzd29yZCI7DQogICAgfSwNCiAgICBzdWJtaXQocmVzcG9uc2UpIHsNCiAgICAgIHRoaXMuY2FwY2hhID0gcmVzcG9uc2U7DQogICAgfSwNCiAgICBhc3luYyBMb2dpbihlKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAvLyBpZiAoIXRoaXMuY2FwY2hhICYmIHByb2Nlc3MuZW52LlZVRV9BUFBfRU5WICE9ICdkZXZlbG9wbWVudCcpIHsNCiAgICAgIC8vICAgdGhpcy5tb2RlbEF1dGguaXNBdXRoRXJyb3IgPSB0cnVlOw0KICAgICAgLy8gICB0aGlzLm1vZGVsQXV0aC5tZXNzYWdlID0gIljDoWMgbmjhuq1uIMSRw6Mgbmjhuq1wIG3DoyBjYXB0Y2hhIjsNCiAgICAgIC8vICAgcmV0dXJuOw0KICAgICAgLy8gfQ0KICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOw0KICAgICAgdGhpcy4kdi4kdG91Y2goKTsNCiAgICAgIGlmICh0aGlzLiR2LiRpbnZhbGlkKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBsb2FkZXIgPSB0aGlzLiRsb2FkaW5nLnNob3coew0KICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy4kcmVmcy5mb3JtQ29udGFpbmVyLA0KICAgICAgICB9KTsNCiAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aFN0b3JlL2xvZ2luIiwgdGhpcy5tb2RlbCkudGhlbihhc3luYyAocmVzKSA9PiB7DQoNCiAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsNCg0KICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTsNCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoLXVzZXInLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coIkxPRyBMb2dpbiBhdXRoLXVzZXIgOiAiLCByZXMuZGF0YSkNCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyLXRva2VuIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEudG9rZW4pKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJMT0cgTG9naW4gIHVzZXItdG9rZW4gOiAiLCByZXMuZGF0YS50b2tlbikNCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS51c2VyKSB7DQogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS51c2VyLm1lbnVJdGVtcykgew0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJtZW51SXRlbXMiLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YS51c2VyLm1lbnVJdGVtcykpOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJMT0cgTG9naW4gbWVudUl0ZW1zIDogIiwgcmVzLmRhdGEudXNlci5tZW51SXRlbXMpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIFZ1ZS5wcm90b3R5cGUuJGF1dGhfdG9rZW4gPSByZXMuZGF0YS50b2tlbjsNCiAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLm1vZGVsID0ge307DQogICAgICAgICAgICB0aGlzLm1vZGVsQXV0aC5pc0F1dGhFcnJvciA9IGZhbHNlOw0KICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3RodW9jJw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAocmVzLkNvZGUgPT0gMjQpIHsNCiAgICAgICAgICAgICAgdGhpcy5tb2RlbEF1dGguaXNBdXRoRXJyb3IgPSB0cnVlOw0KICAgICAgICAgICAgICB0aGlzLm1vZGVsQXV0aC5tZXNzYWdlID0gIkzhu5dpISBIw6N5IGtp4buDbSB0cmEga+G6v3QgbuG7kWkgbeG6oW5nISI7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLm1vZGVsQXV0aC5pc0F1dGhFcnJvciA9IHRydWU7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJMT0cgbWVzc2FnZSA6ICIsIHJlcy5tZXNzYWdlKQ0KICAgICAgICAgICAgICB0aGlzLm1vZGVsQXV0aC5tZXNzYWdlID0gcmVzLm1lc3NhZ2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsb2FkZXIuaGlkZSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgbG9hZGVyLmhpZGUoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgIH0NCiAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOw0KICAgIH0sDQogICAgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5KCkgew0KICAgICAgdGhpcy5zaG93UGFzc3dvcmQgPSAhdGhpcy5zaG93UGFzc3dvcmQ7DQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgfSwNCn07DQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/login","sourcesContent":["<script>\r\nimport appConfig from \"@/app.config\";\r\nimport {required, email} from \"vuelidate/lib/validators\";\r\nimport Vue from \"vue\";\r\n\r\n/**\r\n * Login component\r\n */\r\nexport default {\r\n  page: {\r\n    title: \"Đăng nhập\",\r\n    meta: [\r\n      {\r\n        name: \"description\",\r\n        content: appConfig.description,\r\n      },\r\n    ],\r\n  },\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      email: \"admin@themesbrand.com\",\r\n      password: \"123456\",\r\n      submitted: false,\r\n      authError: null,\r\n      tryingToLogIn: false,\r\n      isAuthError: false,\r\n      capcha: null,\r\n      modelAuth: {\r\n        isAuthError: false,\r\n        message: null\r\n      },\r\n      model: {\r\n        userName: \"\",\r\n        password: \"\"\r\n      },\r\n      cssProps: {\r\n        backgroundImage: `url(${require('./bgimg.jpg')})`\r\n      },\r\n      passwordFieldType: \"password\",\r\n    };\r\n  },\r\n  validations: {\r\n    model: {\r\n      userName: {\r\n        required,\r\n      },\r\n      password: {\r\n        required\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    switchVisibility() {\r\n      this.passwordFieldType = this.passwordFieldType === \"password\" ? \"text\" : \"password\";\r\n    },\r\n    submit(response) {\r\n      this.capcha = response;\r\n    },\r\n    async Login(e) {\r\n      e.preventDefault();\r\n      // if (!this.capcha && process.env.VUE_APP_ENV != 'development') {\r\n      //   this.modelAuth.isAuthError = true;\r\n      //   this.modelAuth.message = \"Xác nhận đã nhập mã captcha\";\r\n      //   return;\r\n      // }\r\n      this.submitted = true;\r\n      this.$v.$touch();\r\n      if (this.$v.$invalid) {\r\n        return;\r\n      } else {\r\n        let loader = this.$loading.show({\r\n          container: this.$refs.formContainer,\r\n        });\r\n       await this.$store.dispatch(\"authStore/login\", this.model).then(async (res) => {\r\n\r\n          if (res.code === 0) {\r\n\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n            localStorage.setItem('auth-user', JSON.stringify(res.data));\r\n            console.log(\"LOG Login auth-user : \", res.data)\r\n            localStorage.setItem(\"user-token\", JSON.stringify(res.data.token));\r\n            console.log(\"LOG Login  user-token : \", res.data.token)\r\n            if (res.data.user) {\r\n              if (res.data.user.menuItems) {\r\n                localStorage.setItem(\"menuItems\", JSON.stringify(res.data.user.menuItems));\r\n                console.log(\"LOG Login menuItems : \", res.data.user.menuItems)\r\n              }\r\n            }\r\n            Vue.prototype.$auth_token = res.data.token;\r\n            this.showModal = false;\r\n            this.model = {};\r\n            this.modelAuth.isAuthError = false;\r\n            window.location.href = '/thuoc'\r\n          } else {\r\n            if (res.Code == 24) {\r\n              this.modelAuth.isAuthError = true;\r\n              this.modelAuth.message = \"Lỗi! Hãy kiểm tra kết nối mạng!\";\r\n            } else {\r\n              this.modelAuth.isAuthError = true;\r\n              console.log(\"LOG message : \", res.message)\r\n              this.modelAuth.message = res.message;\r\n            }\r\n            loader.hide();\r\n          }\r\n        })\r\n            .finally(() => {\r\n              loader.hide();\r\n            });\r\n       }\r\n       this.submitted = false;\r\n    },\r\n    togglePasswordVisibility() {\r\n      this.showPassword = !this.showPassword;\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"container-fluid p-0 bg-login\">\r\n    <div class=\"row g-0 justify-content-end\" >\r\n      <div class=\"col-xl-4 col-md-6 col-12 px-md-2 login-box\" style=\"width: 30%; margin: auto;\">\r\n        <div class=\"auth-full-page-content p-4\" >\r\n          <div class=\"w-70\">\r\n            <div class=\"d-flex flex-column h-100\">\r\n              <div class=\"d-flex justify-content-center flex-column align-items-center\">\r\n              </div>\r\n              <div class=\"my-auto\" >\r\n                <div\r\n                    class=\"text-center h6\r\n                    text-uppercase fw-bold login-title\"\r\n                >\r\n                  ĐĂNG NHẬP\r\n                </div>\r\n                <b-alert\r\n                    v-model=\"modelAuth.isAuthError\"\r\n                    variant=\"danger\"\r\n                    class=\"mt-4\"\r\n                    dismissible\r\n                >{{ modelAuth.message }}\r\n                </b-alert\r\n                >\r\n                <b-form class=\"\" @submit.prevent=\"Login\" ref=\"formContainer\">\r\n                  <b-form-group\r\n                      class=\"mb-4 title-form\"\r\n                      id=\"input-group-1\"\r\n                      label=\"Tài khoản\"\r\n                      label-for=\"input-1\"\r\n                  >\r\n                    <b-form-input\r\n                        id=\"input-1\"\r\n                        v-model=\"model.userName\"\r\n                        type=\"text\"\r\n                        placeholder=\"Nhập tài khoản\"\r\n                        :class=\"{ 'is-invalid': submitted && $v.model.userName.$error }\"\r\n                    ></b-form-input>\r\n                    <div\r\n                        v-if=\"submitted && $v.model.userName.$error\"\r\n                        class=\"invalid-feedback\"\r\n                    >\r\n                      <span v-if=\"!$v.model.userName.required\">Tài khoản không được trống.</span>\r\n                    </div>\r\n                  </b-form-group>\r\n<!--                  <b-form-group-->\r\n<!--                      class=\"mb-4 title-form\"-->\r\n<!--                      id=\"input-group-2\"-->\r\n<!--                      label=\"Mật khẩu\"-->\r\n<!--                      label-for=\"input-2\"-->\r\n<!--                  >-->\r\n<!--                    <b-form-input-->\r\n<!--                        id=\"input-2\"-->\r\n<!--                        v-model=\"model.password\"-->\r\n<!--                        :type=\"showPassword ? 'text' : 'password'\"-->\r\n<!--                        placeholder=\"Nhập mật khẩu\"-->\r\n<!--                        :class=\"{ 'is-invalid': submitted && $v.model.password.$error }\"-->\r\n<!--                    ></b-form-input>-->\r\n<!--                    <div-->\r\n<!--                        v-if=\"submitted && !$v.model.password.required\"-->\r\n<!--                        class=\"invalid-feedback\"-->\r\n<!--                    >-->\r\n<!--                      Mật khẩu không được trống.-->\r\n<!--                    </div>-->\r\n<!--                  </b-form-group>-->\r\n\r\n                  <template>\r\n                    <b-form-group\r\n                        id=\"input-group-2\"\r\n                        label=\"Mật khẩu\"\r\n                        label-for=\"input-2\"\r\n                        class=\"mb-3\"\r\n                        label-class=\"form-label\"\r\n                    >\r\n                      <div class=\"position-relative\">\r\n                        <b-form-input\r\n                            id=\"input-2\"\r\n                            v-model=\"model.password\"\r\n                            :type=\"passwordFieldType\"\r\n                            placeholder=\"Nhập mật khẩu\"\r\n                            :class=\"{ 'is-invalid': submitted && $v.model.password.$error }\"\r\n                            class=\"password\"\r\n                        ></b-form-input>\r\n                        <div\r\n                            v-if=\"submitted && !$v.model.password.required\"\r\n                            class=\"invalid-feedback\"\r\n                        >\r\n                          Mật khẩu không được trống.\r\n                        </div>\r\n                        <div class=\"input-group-prepend\">\r\n                          <a @click=\"switchVisibility\">\r\n                            <template v-if=\"this.passwordFieldType=='password'\">\r\n                              <i class=\"mdi mdi-eye mdi-16px\"></i>\r\n                            </template>\r\n                            <template v-else>\r\n                              <i class=\"mdi mdi-eye-off mdi-16px\"></i>\r\n                            </template>\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n\r\n                    </b-form-group>\r\n                  </template>\r\n<!--                  <div class=\"form-check\">-->\r\n<!--                    <input-->\r\n<!--                        class=\"form-check-input\"-->\r\n<!--                        type=\"checkbox\"-->\r\n<!--                        id=\"remember-check\"-->\r\n<!--                    />-->\r\n<!--                    <label class=\"form-check-label\" for=\"remember-check\">-->\r\n<!--                      Ghi nhớ đăng nhập-->\r\n<!--                    </label>-->\r\n<!--                  </div>-->\r\n<!--                  <div class=\"my-2 d-flex justify-content-center\">-->\r\n<!--                    <vue-recaptcha @verify=\"submit\" sitekey=\"6Lf4VxggAAAAAMKFoeMXT5gYHuZQ-tosJyBBWvvL\"></vue-recaptcha>-->\r\n<!--                  </div>-->\r\n                  <div class=\"mt-3 d-grid\">\r\n                    <b-button\r\n                        type=\"submit\"\r\n                        class=\"text-uppercase fw-bold login-submit\"\r\n                    >ĐĂNG NHẬP\r\n                    </b-button\r\n                    >\r\n                  </div>\r\n                </b-form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- end col -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.bg-login {\r\n  background: url(\"~@/assets/images/bg_login.jpg\");\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 1;\r\n}\r\n\r\n.login-box {\r\n  background-color: transparent;\r\n\r\n}\r\n.my-auto {\r\n  background-color: rgb(255, 255, 255, 0.8);  \r\n  padding-top: 30px;\r\n  padding-left: 50px;\r\n  padding-right: 50px;\r\n  padding-bottom: 30px;\r\n\r\n}\r\n.login-title {\r\n  font-size: 36px;\r\n  background: -webkit-linear-gradient(0deg, #0e96dc, #103672);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.login-submit {\r\n  color: #fff !important;\r\n  background: linear-gradient(135deg, #103672, #0e96dc) !important;\r\n  border: none;\r\n}\r\n\r\n.login-sso {\r\n  color: #061c3d !important;\r\n  background: linear-gradient(135deg, #c4fcb9, #5ab6e5) !important;\r\n  border: none;\r\n}\r\n\r\n.title-form,\r\n.form-check-label,\r\n.login-text {\r\n  color: #2a2a2a;\r\n}\r\n\r\n@media only screen and (min-width: 1204px) {\r\n  .login-box {\r\n    margin-right: 100px;\r\n  }\r\n}\r\n\r\n@media only screen and (max-width: 767px) {\r\n  .login-title {\r\n    font-size: 28px;\r\n    background: -webkit-linear-gradient(0deg, #5ab6e5, #061c3d);\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  .title-form,\r\n  .form-check-label,\r\n  .login-text {\r\n    color: #fff !important;\r\n    text-shadow: 0px 2px 5px #2a2a2a;\r\n  }\r\n}\r\n.form-label{\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n}\r\n.input-group-prepend {\r\n  position: absolute;\r\n  top: 17%;\r\n  right: 13px;\r\n  cursor: pointer;\r\n\r\n}\r\n\r\n</style>\r\n\r\n"]}]}