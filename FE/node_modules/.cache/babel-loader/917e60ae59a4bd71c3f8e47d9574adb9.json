{"remainingRequest":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\babel-loader\\lib\\index.js!D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\src\\pages\\role\\addPermissions.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\src\\pages\\role\\addPermissions.vue","mtime":1704440180000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\babel.config.js","mtime":1704440180000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704332086000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\babel-loader\\lib\\index.js","mtime":1704440412000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704332086000},{"path":"D:\\TTTN2023\\Code\\QuanLyCongViec\\FE\\node_modules\\vue-loader\\lib\\index.js","mtime":1704440418000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovVFRUTjIwMjMvQ29kZS9RdWFuTHlDb25nVmllYy9GRS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1RUVE4yMDIzL0NvZGUvUXVhbkx5Q29uZ1ZpZWMvRkUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCBMYXlvdXQgZnJvbSAiLi4vLi4vbGF5b3V0cy9tYWluIjsKaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2UtaGVhZGVyIjsKaW1wb3J0IGFwcENvbmZpZyBmcm9tICJAL2FwcC5jb25maWciOwppbXBvcnQgeyBub3RpZnlNb2RlbCB9IGZyb20gIkAvbW9kZWxzL25vdGlmeU1vZGVsIjsKZXhwb3J0IGRlZmF1bHQgewogIHBhZ2U6IHsKICAgIHRpdGxlOiAiVGjDqm0gcXV54buBbiB2w6BvIHZhaSB0csOyIiwKICAgIG1ldGE6IFt7CiAgICAgIG5hbWU6ICJkZXNjcmlwdGlvbiIsCiAgICAgIGNvbnRlbnQ6IGFwcENvbmZpZy5kZXNjcmlwdGlvbgogICAgfV0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExheW91dDogTGF5b3V0LAogICAgUGFnZUhlYWRlcjogUGFnZUhlYWRlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vZGU6IFtdLAogICAgICBtb2RlbDogbnVsbCwKICAgICAgdGl0bGU6ICJUaGnhur90IGzhuq1wIHF1eeG7gW4iLAogICAgICBpdGVtczogW3sKICAgICAgICB0ZXh0OiAiVmFpIHRyw7IiLAogICAgICAgIGFjdGl2ZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogIlRow6ptIHF1eeG7gW4iLAogICAgICAgIGFjdGl2ZTogdHJ1ZQogICAgICB9XSwKICAgICAgc2hvd01vZGFsOiBmYWxzZSwKICAgICAgc2hvd0RlbGV0ZU1vZGFsOiBmYWxzZSwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgdHJlZVZpZXc6IFtdLAogICAgICBpdGVtRXZlbnRzOiB7CiAgICAgICAgbW91c2VvdmVyOiBmdW5jdGlvbiBtb3VzZW92ZXIoKSB7fSwKICAgICAgICBjb250ZXh0bWVudTogZnVuY3Rpb24gY29udGV4dG1lbnUoKSB7CiAgICAgICAgICBhcmd1bWVudHNbMl0ucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICdTVFQnLAogICAgICAgIGxhYmVsOiAnU1RUJywKICAgICAgICBjbGFzczogJ3RleHQtY2VudGVyJywKICAgICAgICB0aFN0eWxlOiB7CiAgICAgICAgICB3aWR0aDogJzMwcHgnLAogICAgICAgICAgbWluV2lkdGg6ICczMHB4JwogICAgICAgIH0sCiAgICAgICAgdGhDbGFzczogJ2hpZGRlbi1zb3J0YWJsZScKICAgICAgfSwgewogICAgICAgIGtleTogIm5hbWUiLAogICAgICAgIGxhYmVsOiAiVMOqbiIsCiAgICAgICAgY2xhc3M6ICJ0ZXh0LWNlbnRlciIsCiAgICAgICAgdGhTdHlsZTogewogICAgICAgICAgd2lkdGg6ICc4MHB4JywKICAgICAgICAgIG1pbldpZHRoOiAnODBweCcKICAgICAgICB9LAogICAgICAgIHRoQ2xhc3M6ICdoaWRkZW4tc29ydGFibGUnCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJhY3Rpb24iLAogICAgICAgIGxhYmVsOiAiSMOgbmggxJHhu5luZyIsCiAgICAgICAgY2xhc3M6ICJ0ZXh0LWNlbnRlciIsCiAgICAgICAgdGhTdHlsZTogewogICAgICAgICAgd2lkdGg6ICc4MHB4JywKICAgICAgICAgIG1pbldpZHRoOiAnODBweCcKICAgICAgICB9LAogICAgICAgIHRoQ2xhc3M6ICdoaWRkZW4tc29ydGFibGUnCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdwcm9jZXNzJywKICAgICAgICBsYWJlbDogJ1jhu60gbMO9JywKICAgICAgICBjbGFzczogJ3RleHQtY2VudGVyJywKICAgICAgICB0aFN0eWxlOiB7CiAgICAgICAgICB3aWR0aDogJzEwcHgnLAogICAgICAgICAgbWluV2lkdGg6ICcxMHB4JwogICAgICAgIH0sCiAgICAgICAgdGhDbGFzczogJ2hpZGRlbi1zb3J0YWJsZScKICAgICAgfV0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5HZXRUcmVlTGlzdCgpOwogICAgdGhpcy5HZXRQZXJtaXNzaW9uc0J5Um9sZUlkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBHZXRUcmVlTGlzdDogZnVuY3Rpb24gR2V0VHJlZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgibW9kdWxlU3RvcmUvZ2V0QWxsIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudHMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudHJlZVZpZXcucHVzaChlbGVtZW50cyk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAvL3Jlcy5kYXRhCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpdGVtQ2xpY2s6IGZ1bmN0aW9uIGl0ZW1DbGljayhub2RlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMyLm5vZGUgPSBub2RlLm1vZGVsOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJMT0cgQ0xJQ0sgOiAiLCBfdGhpczIubm9kZSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIEdldFBlcm1pc3Npb25zQnlSb2xlSWQ6IGZ1bmN0aW9uIEdldFBlcm1pc3Npb25zQnlSb2xlSWQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJyb2xlU3RvcmUvZ2V0QnlJZCIsIF90aGlzMy4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpczMubW9kZWwgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZygiTE9HIExJU1QgOiAiICwgdGhpcy5tb2RlbCkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goInNuYWNrQmFyU3RvcmUvYWRkTm90aWZ5Iiwgbm90aWZ5TW9kZWwuYWRkTWVzc2FnZShyZXMpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3RhdHVzUGVybWlzc2lvbjogZnVuY3Rpb24gc3RhdHVzUGVybWlzc2lvbihwZXJtaXNzaW9uKSB7CiAgICAgIHZhciBjaGVjayA9IHRoaXMubW9kZWwucGVybWlzc2lvbnMuZmluZEluZGV4KGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHguaWQgPT0gcGVybWlzc2lvbi5pZDsKICAgICAgfSk7CiAgICAgIGlmIChjaGVjayA9PSB1bmRlZmluZWQgfHwgY2hlY2sgPT0gLTEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgb25DaGVja2VkOiBmdW5jdGlvbiBvbkNoZWNrZWQoaXRlbSkgewogICAgICBjb25zb2xlLmxvZygiTE9HIGl0ZW0gOiAiLCBpdGVtKTsKICAgICAgdmFyIGNoZWNrID0gdGhpcy5tb2RlbC5wZXJtaXNzaW9ucy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5pZCA9PSBpdGVtLmlkOwogICAgICB9KTsKICAgICAgaWYgKGNoZWNrID09IHVuZGVmaW5lZCB8fCBjaGVjayA9PSAtMSkgewogICAgICAgIHRoaXMubW9kZWwucGVybWlzc2lvbnMucHVzaCh7CiAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgIGFjdGlvbjogaXRlbS5hY3Rpb24KICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygiTE9HIElGIE5FIDogIiwgdGhpcy5tb2RlbC5wZXJtaXNzaW9ucyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF90aGlzJG1vZGVsJHBlcm1pc3NpbzsKICAgICAgICB0aGlzLm1vZGVsLnBlcm1pc3Npb25zID0gKF90aGlzJG1vZGVsJHBlcm1pc3NpbyA9IHRoaXMubW9kZWwucGVybWlzc2lvbnMpID09PSBudWxsIHx8IF90aGlzJG1vZGVsJHBlcm1pc3NpbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbW9kZWwkcGVybWlzc2lvLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgaWYgKHguaWQgIT0gaXRlbS5pZCkgcmV0dXJuIHg7CiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2coIkxPRyBFTFNFIE5FIDogIiwgdGhpcy5tb2RlbC5wZXJtaXNzaW9ucyk7CiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2coIkxPRyBHSUEgVFJJIFBFUk1JU1NJT05TIDogICIsIHRoaXMubW9kZWwucGVybWlzc2lvbnMpCiAgICB9LAogICAgaGFuZGxlU3VibWl0Um9sZTogZnVuY3Rpb24gaGFuZGxlU3VibWl0Um9sZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kc3RvcmUuZGlzcGF0Y2goInJvbGVTdG9yZS91cGRhdGUiLCBfdGhpczQubW9kZWwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kc3RvcmUuZGlzcGF0Y2goInNuYWNrQmFyU3RvcmUvYWRkTm90aWZ5Iiwgbm90aWZ5TW9kZWwuYWRkTWVzc2FnZShyZXMpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Layout","PageHeader","appConfig","notifyModel","page","title","meta","name","content","description","components","data","node","model","items","text","active","showModal","showDeleteModal","submitted","treeView","itemEvents","mouseover","contextmenu","arguments","preventDefault","fields","key","label","class","thStyle","width","minWidth","thClass","created","GetTreeList","GetPermissionsByRoleId","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","then","res","code","forEach","elements","push","stop","itemClick","_this2","_callee2","_callee2$","_context2","console","log","_this3","_callee3","_callee3$","_context3","$route","params","id","addMessage","statusPermission","permission","check","permissions","findIndex","x","undefined","onChecked","item","action","_this$model$permissio","filter","handleSubmitRole","_this4","_callee4","_callee4$","_context4"],"sources":["src/pages/role/addPermissions.vue"],"sourcesContent":["<script>\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"@/app.config\";\r\nimport {notifyModel} from \"@/models/notifyModel\";\r\nexport default {\r\n  page: {\r\n    title: \"Thêm quyền vào vai trò\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {Layout, PageHeader},\r\n  data() {\r\n    return {\r\n      node: [],\r\n      model : null ,\r\n      title: \"Thiết lập quyền\",\r\n      items: [\r\n        {\r\n          text: \"Vai trò\",\r\n          active: true,\r\n        },\r\n        {\r\n          text: \"Thêm quyền\",\r\n          active: true,\r\n        }\r\n      ],\r\n      showModal: false,\r\n      showDeleteModal: false,\r\n      submitted: false,\r\n      treeView: [],\r\n      itemEvents: {\r\n        mouseover: function () {\r\n\r\n        },\r\n        contextmenu: function () {\r\n          arguments[2].preventDefault()\r\n        }\r\n      },\r\n      fields: [\r\n        {\r\n          key: 'STT',\r\n          label: 'STT',\r\n          class: 'text-center',\r\n          thStyle: {width: '30px', minWidth: '30px'},\r\n           thClass: 'hidden-sortable'\r\n        },\r\n        {\r\n          key: \"name\",\r\n          label: \"Tên\",\r\n          class: \"text-center\",\r\n          thStyle: {width: '80px', minWidth: '80px'},\r\n          thClass: 'hidden-sortable'\r\n        },\r\n        {\r\n          key: \"action\",\r\n          label: \"Hành động\",\r\n          class: \"text-center\",\r\n          thStyle: {width: '80px', minWidth: '80px'},\r\n          thClass: 'hidden-sortable'\r\n        },\r\n        {\r\n          key: 'process',\r\n          label: 'Xử lý',\r\n          class: 'text-center',\r\n          thStyle: {width: '10px', minWidth: '10px'},\r\n          thClass: 'hidden-sortable'\r\n        }\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.GetTreeList();\r\n    this.GetPermissionsByRoleId();\r\n  },\r\n  methods: {\r\n    async GetTreeList(){\r\n      await this.$store.dispatch(\"moduleStore/getAll\").then((res) => {\r\n            if (res.code === 0)\r\n            {\r\n              res.data.forEach(elements => this.treeView.push(elements))\r\n              //res.data\r\n            }\r\n      })\r\n    },\r\n    async itemClick (node) {\r\n      this.node = node.model\r\n      console.log(\"LOG CLICK : \", this.node)\r\n    },\r\n    async GetPermissionsByRoleId() {\r\n      await this.$store.dispatch(\"roleStore/getById\", this.$route.params.id).then((res) => {\r\n        if (res.code === 0) {\r\n               this.model = res.data;\r\n       //   console.log(\"LOG LIST : \" , this.model)\r\n        } else {\r\n          this.$store.dispatch(\"snackBarStore/addNotify\", notifyModel.addMessage(res));\r\n        }\r\n      });\r\n    },\r\n    statusPermission(permission) {\r\n      let check = this.model.permissions.findIndex(x => x.id == permission.id);\r\n      if (check == undefined || check == -1 )\r\n      {\r\n        return  false;\r\n      }\r\n      return true\r\n    },\r\n    onChecked(item) {\r\n      console.log(\"LOG item : \" , item)\r\n      let check = this.model.permissions.findIndex(x => x.id == item.id);\r\n      if (check == undefined || check == -1 )\r\n      {\r\n        this.model.permissions.push({id: item.id, name: item.name, action: item.action})\r\n        console.log(\"LOG IF NE : \" , this.model.permissions)\r\n      }else {\r\n        this.model.permissions = this.model.permissions?.filter(x => {\r\n          if (x.id != item.id)\r\n            return x;\r\n        });\r\n        console.log(\"LOG ELSE NE : \" , this.model.permissions)\r\n      }\r\n     // console.log(\"LOG GIA TRI PERMISSIONS :  \", this.model.permissions)\r\n    },\r\n    async handleSubmitRole() {\r\n      await this.$store.dispatch(\"roleStore/update\", this.model).then((res) => {\r\n        if (res.code === 0) {\r\n          this.$store.dispatch(\"snackBarStore/addNotify\", notifyModel.addMessage(res));\r\n        }\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n<template>\r\n  <Layout>\r\n    <PageHeader   :title=\"title\" :items=\"items\"/>\r\n     <div class=\"row\">\r\n       <div class=\"col-lg-11\">\r\n       </div>\r\n       <div class=\"col-1\">\r\n         <b-button\r\n             type=\"button \"\r\n             class=\"btn-label mb-3 me-2 cs-btn-primary\"\r\n             @click=\"handleSubmitRole\" size=\"xl\"\r\n             v-if=\"$can('save-permission')\"\r\n         >\r\n           <i class=\"mdi mdi-plus me-1 label-icon\"></i> Lưu\r\n         </b-button>\r\n       </div>\r\n     </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <div class=\"font-weight-bold text-danger\" style=\"margin-bottom: 5px\" >\r\n              {{this.model.ten}}\r\n            </div>\r\n            <v-jstree  :data = \"treeView\"  text-field-name = \"name\" @item-click=\"itemClick\"></v-jstree>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h4 class=\" text-danger font-weight-bold font-size-20\">{{this.node.name}}</h4>\r\n            <b-table\r\n                class=\"datatables\"\r\n                :items=\"this.node.permissions\"\r\n                :fields=\"fields\"\r\n                striped\r\n                bordered\r\n                responsive=\"sm\">\r\n            <template v-slot:cell(STT)=\"data\">\r\n              {{ data.index + ((currentPage-1)*perPage) + 1  }}\r\n            </template>\r\n              <template v-slot:cell(process)=\"data\">\r\n                <div class=\"form-check form-check-danger\">\r\n                  <input\r\n                      class=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                      id=\"formCheckcolor1\"\r\n                      :checked=\"statusPermission(data.item)\"\r\n                      @click = \"onChecked(data.item)\"\r\n                  />\r\n                </div>\r\n              </template>\r\n            </b-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n<style>\r\n.hidden-sortable:after, .hidden-sortable:before {\r\n  display: none !important;\r\n}\r\n.table>tbody> tr >td{\r\n  padding: 0px;\r\n  line-height: 30px;\r\n}\r\n</style>\r\n"],"mappings":"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"}]}